record feed {
	array
	i
}

proc feed(array) {
	feed = new feed
	feed.array = array
	feed.i = 0
	return feed
}

rem feed methods

proc _can_read(feed, offset) => feed.i + offset < len(feed.array)

proc _next(feed) => feed.array[feed.i++]

proc next(feed) {
	if _can_read(feed, 0) {
		return _next(feed)
	}
	return 0 //EOF
}

proc _seek(feed, offset) => feed.array[feed.i + offset]

proc seek(feed, offset) {
	if _can_read(feed, offset) {
		return _seek(feed, offset)
	}
	return 0 //EOF
}

proc goto(feed, i) => feed.array[i]

proc eof(feed) => !_can_read(feed,0)